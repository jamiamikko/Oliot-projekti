package avoidance;

import lejos.robotics.navigation.DifferentialPilot;
import lejos.robotics.objectdetection.Feature;
import lejos.robotics.objectdetection.FeatureDetector;
import lejos.robotics.objectdetection.FeatureListener;
 
public class DetectedObjectListener implements FeatureListener {
 
    private DifferentialPilot pilot;
 
    public DetectedObjectListener(final DifferentialPilot pilot) {
        this.pilot = pilot;
    }
 
    @Override
    public void featureDetected(final Feature feature, final FeatureDetector detector) {
        int range = (int)feature.getRangeReading().getRange();
        if(range <= 10){
            if(range <=2){
                System.exit(0);
            }
            pilot.stop();
            pilot.rotate(90);
            pilot.forward();
        }
    }
}